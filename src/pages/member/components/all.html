<template>
    <div class="container " style="min-height: 597px;">
      <div class="block-list address-list section section-first js-no-webview-block">
        <a class="block-item js-address-item address-item " 
        v-for='list in lists'
        :class="{'address-item-default':list.isDefault}"
        >
          <div class="address-title">{{list.name}} {{list.tel}}   <span @click='editChange(list)'>修改</span></div>  
          <p>{{list.provinceName}}{{list.cityName}}{{list.districtName}}{{list.address}}</p>
        </a>
   
      </div>
      <div class="block stick-bottom-row center">
        <router-link class="btn btn-blue js-no-webview-block js-add-address-btn" :to="{ name: 'form', query: { type: 'new',instance:null }}">
              新增地址
          </router-link>
      </div>
    </div>
  
  </template>
  
  <style scoped>
  @import './member.css'
  @import './member_base.css'
  @import './address_base.css'
  @import './address.css'
  </style>
  
  <script>
      import Vue from 'vue'
      import axios from 'axios'
      import url from 'js/api.js'
  export default {
    data(){
      return {
        lists:null
      }
      
    },
    created(){
      
      axios.get(url.addressList,{}).then(res=>{
        this.lists=res.data.lists
      })
  
    },
  
  
  
  
  
   
  
  
  
  
              
  
  
  
  
  
  
      methods:{
          editChange(list){
              this.$router.push({ name: 'form', query: { type: 'edit',instance:list }})
          },
          newChange(){
              this.$router.push({ name: 'form', query: { type: 'edit',instance: {
                address:"",
  cityName:"",
  cityValue:"",
  districtName:"",
  districtValue:"",
  id:'',
  isDefault:false,
  name:"",
  provinceName:"",
  provinceValue:'',
  tel:''
              }
  
  
  
              
              
              
              }})
             
  
  
          }
  
      }
  }
  </script>